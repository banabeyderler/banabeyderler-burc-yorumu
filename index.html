<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banabeyderler AI - Google GiriÅŸ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0f0f23;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #6B46C1;
        }

        .giris-butonu {
            background: #38B2AC;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
        }

        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .login-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1a1a2e;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #6B46C1;
            min-width: 350px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }

        .user-info {
            background: rgba(107, 70, 193, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }

        .google-btn {
            background: white;
            color: #757575;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 10px 0;
            width: 100%;
            justify-content: center;
            font-size: 16px;
        }

        .google-btn:hover {
            background: #f8f8f8;
        }

        .demo-btn {
            background: #6B46C1;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
        }

        .demo-btn:hover {
            background: #5a3aa8;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <div class="logo">â™ˆ Banabeyderler AI</div>
        <div class="user-menu">
            <button class="giris-butonu" onclick="showLoginModal()">GiriÅŸ Yap</button>
        </div>
    </div>

    <!-- ANA Ä°Ã‡ERÄ°K -->
    <div id="mainContent" style="text-align: center; padding: 50px 0;">
        <h1>ğŸŒ™ BurÃ§ YorumlarÄ± ve AI Asistan</h1>
        <p>GiriÅŸ yapÄ±n ve burÃ§ Ã¶zelliklerini keÅŸfedin</p>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="login-modal">
        <div class="login-content">
            <button class="close-btn" onclick="hideLoginModal()">Ã—</button>
            <h2>ğŸ¯ Banabeyderler'e HoÅŸ Geldiniz</h2>
            <p style="margin: 20px 0; color: #aaa;">GiriÅŸ yÃ¶nteminizi seÃ§in</p>
            
            <!-- GOOGLE GÄ°RÄ°Å BUTONU -->
            <button class="google-btn" onclick="googleLogin()">
                <svg width="20" height="20" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Google ile GiriÅŸ Yap
            </button>

            <div style="margin: 20px 0; color: #666; font-size: 14px;">veya</div>

            <!-- DEMO GÄ°RÄ°Å -->
            <button class="demo-btn" onclick="demoLogin()">
                ğŸš€ Demo GiriÅŸ Yap
            </button>

            <!-- HATA BÄ°LGÄ°SÄ° -->
            <div style="margin-top: 20px; padding: 15px; background: rgba(245, 101, 101, 0.2); border-radius: 8px; font-size: 12px; color: #ff6b6b;">
                <strong>âš ï¸ Google GiriÅŸ HatasÄ±:</strong><br>
                Google Cloud Console'da "Authorized JavaScript origins" ayarÄ± gerekiyor:<br>
                <code>https://banabeyderler-horoscope.netlify.app</code>
            </div>
        </div>
    </div>

    <script>
        // GOOGLE LOGIN - YENÄ° YÃ–NTEM
        function googleLogin() {
            // Google OAuth URL'si oluÅŸtur
            const authUrl = new URL('https://accounts.google.com/o/oauth2/v2/auth');
            
            // Parametreleri ekle
            authUrl.searchParams.set('client_id', '264644476458-iou4uj8klkll3dpcch1mokr1tf9dv72j.apps.googleusercontent.com');
            authUrl.searchParams.set('redirect_uri', 'https://banabeyderler-horoscope.netlify.app');
            authUrl.searchParams.set('response_type', 'token');
            authUrl.searchParams.set('scope', 'profile email');
            authUrl.searchParams.set('include_granted_scopes', 'true');
            authUrl.searchParams.set('state', 'google_login');
            
            // Yeni pencere aÃ§
            const width = 500;
            const height = 600;
            const left = (screen.width - width) / 2;
            const top = (screen.height - height) / 2;
            
            window.open(
                authUrl.toString(), 
                'google_auth',
                `width=${width},height=${height},left=${left},top=${top}`
            );
            
            // Pencere kapandÄ±ÄŸÄ±nda kontrol et
            setTimeout(() => {
                checkGoogleLogin();
            }, 2000);
        }

        // GOOGLE LOGIN KONTROLÃœ
        function checkGoogleLogin() {
            // URL'de access token kontrol et
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            const accessToken = params.get('access_token');
            
            if (accessToken) {
                // Token varsa, kullanÄ±cÄ± bilgilerini al
                getUserInfo(accessToken);
            }
        }

        // KULLANICI BÄ°LGÄ°LERÄ°NÄ° AL
        async function getUserInfo(accessToken) {
            try {
                const response = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    }
                });
                
                if (response.ok) {
                    const userInfo = await response.json();
                    
                    const userData = {
                        name: userInfo.name,
                        email: userInfo.email,
                        picture: userInfo.picture,
                        googleId: userInfo.id,
                        level: 1,
                        diamonds: 200, // Google bonusu
                        stars: 100,
                        gold: 50,
                        isGoogle: true,
                        loginTime: new Date().toISOString()
                    };
                    
                    localStorage.setItem('banabeyderler_user', JSON.stringify(userData));
                    hideLoginModal();
                    
                    alert(`ğŸ‰ Google GiriÅŸ BaÅŸarÄ±lÄ±!\n\nHoÅŸ geldin ${userData.name}!\nğŸ’ 200 Elmas bonusu!`);
                    location.reload();
                    
                } else {
                    throw new Error('KullanÄ±cÄ± bilgileri alÄ±namadÄ±');
                }
            } catch (error) {
                console.error('Google login error:', error);
                alert('Google giriÅŸi sÄ±rasÄ±nda hata oluÅŸtu. Demo giriÅŸ kullanabilirsiniz.');
            }
        }

        // DEMO GÄ°RÄ°Å
        function demoLogin() {
            const userData = {
                name: 'Demo KullanÄ±cÄ±',
                email: 'demo@banabeyderler.com',
                picture: 'ğŸ‘¤',
                level: 1,
                diamonds: 100,
                stars: 50,
                gold: 25,
                isDemo: true,
                loginTime: new Date().toISOString()
            };
            
            localStorage.setItem('banabeyderler_user', JSON.stringify(userData));
            hideLoginModal();
            alert(`ğŸ‰ Demo giriÅŸ baÅŸarÄ±lÄ±!\n\nHoÅŸ geldin ${userData.name}!\nğŸ’ 100 Elmas bonusu!`);
            location.reload();
        }

        // MODAL FONKSÄ°YONLARI
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function hideLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        // SAYFA YÃœKLENDÄ°ÄÄ°NDE
        document.addEventListener('DOMContentLoaded', function() {
            // Ã–nce Google login kontrolÃ¼
            checkGoogleLogin();
            
            // Sonra kullanÄ±cÄ± durumunu kontrol et
            const user = JSON.parse(localStorage.getItem('banabeyderler_user') || 'null');
            
            if (user) {
                updateUIForLoggedInUser(user);
            }
        });

        // GÄ°RÄ°Å YAPMIÅ KULLANICI Ä°Ã‡Ä°N UI
        function updateUIForLoggedInUser(user) {
            document.querySelector('.giris-butonu').innerHTML = `ğŸ‘¤ ${user.name}`;
            document.querySelector('.giris-butonu').onclick = function() {
                showUserProfile(user);
            };
            
            document.getElementById('mainContent').innerHTML = `
                <div style="max-width: 800px; margin: 0 auto;">
                    <div class="user-info">
                        <h2>ğŸ‘‹ HoÅŸ geldin, ${user.name}!</h2>
                        <p>${user.isGoogle ? 'ğŸ” Google ile giriÅŸ yaptÄ±nÄ±z' : 'ğŸš€ Demo modundasÄ±nÄ±z'}</p>
                        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 15px; flex-wrap: wrap;">
                            <div>ğŸ’ ${user.diamonds}</div>
                            <div>â­ ${user.stars}</div>
                            <div>ğŸª™ ${user.gold}</div>
                            <div>ğŸ¯ Level ${user.level}</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <h2>â™ˆ GÃ¼nlÃ¼k BurÃ§ Yorumu</h2>
                        <p>Burcunu seÃ§ ve AI yorumunu al!</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin: 20px 0;">
                            ${['KoÃ§', 'BoÄŸa', 'Ä°kizler', 'YengeÃ§', 'Aslan', 'BaÅŸak', 'Terazi', 'Akrep', 'Yay', 'OÄŸlak', 'Kova', 'BalÄ±k'].map(burc => `
                                <div style="background: rgba(107,70,193,0.3); padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s;" 
                                     onmouseover="this.style.transform='scale(1.05)'" 
                                     onmouseout="this.style.transform='scale(1)'"
                                     onclick="getHoroscope('${burc}')">
                                    ${getBurcIkonu(burc)}<br>${burc}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <button onclick="logout()" style="background: #F56565; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">
                        ğŸ”“ Ã‡Ä±kÄ±ÅŸ Yap
                    </button>
                </div>
            `;
        }

        // BURÃ‡ Ä°KONLARI
        function getBurcIkonu(burc) {
            const ikonlar = {
                'KoÃ§': 'â™ˆ', 'BoÄŸa': 'â™‰', 'Ä°kizler': 'â™Š', 'YengeÃ§': 'â™‹',
                'Aslan': 'â™Œ', 'BaÅŸak': 'â™', 'Terazi': 'â™', 'Akrep': 'â™',
                'Yay': 'â™', 'OÄŸlak': 'â™‘', 'Kova': 'â™’', 'BalÄ±k': 'â™“'
            };
            return ikonlar[burc] || 'â™ˆ';
        }

        // BURÃ‡ YORUMU
        function getHoroscope(burc) {
            const yorumlar = {
                'KoÃ§': 'BugÃ¼n enerjin zirvede! Yeni projelere baÅŸlamak iÃ§in mÃ¼kemmel bir gÃ¼n.',
                'BoÄŸa': 'Maddi konularda ÅŸanslÄ±sÄ±n. SabÄ±rlÄ± davran, kararlarÄ±nÄ± iyi dÃ¼ÅŸÃ¼n.',
                'Ä°kizler': 'Ä°letiÅŸim gÃ¼cÃ¼n Ã§ok yÃ¼ksek! Sosyal aktivitelere katÄ±l.',
                'YengeÃ§': 'Duygusal bir gÃ¼ndesin. Ailenle zaman geÃ§irmek iyi gelecek.',
                'Aslan': 'YaratÄ±cÄ±lÄ±ÄŸÄ±n zirvede! Kendini ifade etmekten Ã§ekinme.',
                'BaÅŸak': 'Detaylara odaklan, organizasyon yap. VerimliliÄŸin artacak.',
                'Terazi': 'Ä°liÅŸkilerde denge Ã¶nemli. Adil ol, uzlaÅŸmacÄ± yaklaÅŸ.',
                'Akrep': 'Sezgilerin Ã§ok gÃ¼Ã§lÃ¼! Gizemli konulara eÄŸil.',
                'Yay': 'Ã–zgÃ¼rlÃ¼k arayÄ±ÅŸÄ±ndasÄ±n! Yeni maceralar seni bekliyor.',
                'OÄŸlak': 'Kariyer odaklÄ± bir gÃ¼n. Hedeflerine odaklan.',
                'Kova': 'YenilikÃ§i fikirlerle dolu! Sosyal projelerde Ã¶ncÃ¼ ol.',
                'BalÄ±k': 'Hayal gÃ¼cÃ¼n zirvede! Sanatla ilgilen.'
            };
            
            const user = JSON.parse(localStorage.getItem('banabeyderler_user'));
            user.diamonds += 10;
            localStorage.setItem('banabeyderler_user', JSON.stringify(user));
            
            alert(`â™ˆ ${burc} Burcu GÃ¼nlÃ¼k Yorumu:\n\n${yorumlar[burc]}\n\nğŸ’ 10 Elmas kazandÄ±nÄ±z!`);
        }

        // PROFÄ°L GÃ–STER
        function showUserProfile(user) {
            alert(`
ğŸ¤ Profil Bilgileri:

Ä°sim: ${user.name}
E-posta: ${user.email}
Seviye: ${user.level}
Elmas: ğŸ’ ${user.diamonds}
YÄ±ldÄ±z: â­ ${user.stars}
AltÄ±n: ğŸª™ ${user.gold}

${user.isGoogle ? 'ğŸ” Google GiriÅŸi' : 'ğŸš€ Demo Modu'}
GiriÅŸ Tarihi: ${new Date(user.loginTime).toLocaleString()}
            `);
        }

        // Ã‡IKIÅ
        function logout() {
            localStorage.removeItem('banabeyderler_user');
            alert('Ã‡Ä±kÄ±ÅŸ yapÄ±ldÄ±. Tekrar gÃ¶rÃ¼ÅŸmek Ã¼zere! ğŸ‘‹');
            location.reload();
        }

        // ESC tuÅŸu ile modal kapatma
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') hideLoginModal();
        });
    </script>
</body>
</html>