<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banabeyderler AI - Google GiriÅŸ Aktif</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0f0f23;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #6B46C1;
        }

        .giris-butonu {
            background: #38B2AC;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
        }

        .google-login-btn {
            background: white;
            color: #757575;
            border: 2px solid #ddd;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 10px 0;
            width: 100%;
            justify-content: center;
        }

        .google-login-btn:hover {
            background: #f8f8f8;
        }

        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        .login-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1a1a2e;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid #6B46C1;
            min-width: 300px;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }

        .user-info {
            background: rgba(107, 70, 193, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <div class="header">
        <div class="logo">â™ˆ Banabeyderler AI</div>
        <div class="user-menu">
            <button class="giris-butonu" onclick="showLoginModal()">GiriÅŸ Yap</button>
        </div>
    </div>

    <!-- ANA Ä°Ã‡ERÄ°K -->
    <div id="mainContent" style="text-align: center; padding: 50px 0;">
        <h1>BurÃ§ YorumlarÄ± ve AI Asistan</h1>
        <p>Google hesabÄ±nÄ±zla giriÅŸ yapÄ±n ve Ã¶zelliklere eriÅŸin</p>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="login-modal">
        <div class="login-content">
            <button class="close-btn" onclick="hideLoginModal()">Ã—</button>
            <h2>ğŸ¯ Banabeyderler'e HoÅŸ Geldiniz</h2>
            <p style="margin: 20px 0; color: #aaa;">GiriÅŸ yÃ¶nteminizi seÃ§in</p>
            
            <!-- GOOGLE GÄ°RÄ°Å BUTONU -->
            <div id="googleButtonContainer">
                <div id="g_id_onload"
                    data-client_id="264644476458-iou4uj8klkll3dpcch1mokr1tf9dv72j.apps.googleusercontent.com"
                    data-context="signin"
                    data-ux_mode="popup"
                    data-callback="handleGoogleLogin"
                    data-auto_prompt="false">
                </div>

                <div class="g_id_signin"
                    data-type="standard"
                    data-shape="rectangular"
                    data-theme="filled_blue"
                    data-text="signin_with"
                    data-size="large"
                    data-logo_alignment="left"
                    data-width="300">
                </div>
            </div>

            <div style="margin: 20px 0; color: #aaa;">veya</div>

            <!-- DEMO GÄ°RÄ°Å -->
            <button onclick="demoLogin()" style="background: #6B46C1; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; width: 100%;">
                ğŸš€ Demo GiriÅŸ Yap
            </button>
        </div>
    </div>

    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <script>
        // GOOGLE LOGIN HANDLER
        function handleGoogleLogin(response) {
            console.log('Google Login Response:', response);
            
            // JWT token decode et (basit versiyon)
            const payload = JSON.parse(atob(response.credential.split('.')[1]));
            
            const userData = {
                name: payload.name,
                email: payload.email,
                picture: payload.picture,
                googleId: payload.sub,
                level: 1,
                diamonds: 150, // Google giriÅŸ bonusu
                stars: 75,
                gold: 50,
                isGoogle: true,
                loginTime: new Date().toISOString()
            };
            
            // LocalStorage'a kaydet
            localStorage.setItem('banabeyderler_user', JSON.stringify(userData));
            
            // ModalÄ± kapat
            hideLoginModal();
            
            // BaÅŸarÄ± mesajÄ±
            alert(`ğŸ‰ Google GiriÅŸ BaÅŸarÄ±lÄ±!\n\nHoÅŸ geldin ${userData.name}!\nğŸ’ 150 Elmas bonusu!\nâ­ 75 YÄ±ldÄ±z bonusu!`);
            
            // SayfayÄ± gÃ¼ncelle
            location.reload();
        }

        // DEMO GÄ°RÄ°Å
        function demoLogin() {
            const userData = {
                name: 'Demo KullanÄ±cÄ±',
                email: 'demo@banabeyderler.com',
                picture: 'ğŸ‘¤',
                level: 1,
                diamonds: 100,
                stars: 50,
                gold: 25,
                isDemo: true,
                loginTime: new Date().toISOString()
            };
            
            localStorage.setItem('banabeyderler_user', JSON.stringify(userData));
            hideLoginModal();
            alert(`ğŸ‰ Demo giriÅŸ baÅŸarÄ±lÄ±!\n\nHoÅŸ geldin ${userData.name}!\nğŸ’ 100 Elmas bonusu!`);
            location.reload();
        }

        // MODAL FONKSÄ°YONLARI
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function hideLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        // SAYFA YÃœKLENDÄ°ÄÄ°NDE
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('banabeyderler_user') || 'null');
            
            if (user) {
                updateUIForLoggedInUser(user);
            }
        });

        // GÄ°RÄ°Å YAPMIÅ KULLANICI Ä°Ã‡Ä°N UI GÃœNCELLE
        function updateUIForLoggedInUser(user) {
            // Header'Ä± gÃ¼ncelle
            document.querySelector('.giris-butonu').innerHTML = `
                ğŸ‘¤ ${user.name}
            `;
            document.querySelector('.giris-butonu').onclick = function() {
                showUserProfile(user);
            };
            
            // Ana iÃ§eriÄŸi gÃ¶ster
            document.getElementById('mainContent').innerHTML = `
                <div style="max-width: 800px; margin: 0 auto;">
                    <div class="user-info">
                        <h2>ğŸ‘‹ HoÅŸ geldin, ${user.name}!</h2>
                        <p>${user.isGoogle ? 'ğŸ” Google ile giriÅŸ yaptÄ±nÄ±z' : 'ğŸš€ Demo modundasÄ±nÄ±z'}</p>
                        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 15px;">
                            <div>ğŸ’ ${user.diamonds}</div>
                            <div>â­ ${user.stars}</div>
                            <div>ğŸª™ ${user.gold}</div>
                            <div>ğŸ¯ Level ${user.level}</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <h2>â™ˆ GÃ¼nlÃ¼k BurÃ§ Yorumu</h2>
                        <p>Burcunu seÃ§ ve AI yorumunu al!</p>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0;">
                            ${['KoÃ§', 'BoÄŸa', 'Ä°kizler', 'YengeÃ§', 'Aslan', 'BaÅŸak', 'Terazi', 'Akrep', 'Yay', 'OÄŸlak', 'Kova', 'BalÄ±k'].map(burc => `
                                <div style="background: rgba(107,70,193,0.3); padding: 15px; border-radius: 10px; text-align: center; cursor: pointer;" onclick="getHoroscope('${burc}')">
                                    ${getBurcIkonu(burc)} ${burc}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h2>ğŸ¤– AI Asistan</h2>
                        <p>BurÃ§lar hakkÄ±nda soru sorabilirsin!</p>
                        <input type="text" id="aiSoru" placeholder="AI'ya soru sor..." style="width: 100%; padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.1); border: 1px solid #6B46C1; border-radius: 5px; color: white;">
                        <button onclick="aiSoruSor()" style="background: #38B2AC; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">GÃ¶nder</button>
                        <div id="aiCevap" style="margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;"></div>
                    </div>
                    
                    <button onclick="logout()" style="background: #F56565; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 20px;">
                        ğŸ”“ Ã‡Ä±kÄ±ÅŸ Yap
                    </button>
                </div>
            `;
        }

        // BURÃ‡ Ä°KONLARI
        function getBurcIkonu(burc) {
            const ikonlar = {
                'KoÃ§': 'â™ˆ', 'BoÄŸa': 'â™‰', 'Ä°kizler': 'â™Š', 'YengeÃ§': 'â™‹',
                'Aslan': 'â™Œ', 'BaÅŸak': 'â™', 'Terazi': 'â™', 'Akrep': 'â™',
                'Yay': 'â™', 'OÄŸlak': 'â™‘', 'Kova': 'â™’', 'BalÄ±k': 'â™“'
            };
            return ikonlar[burc] || 'â™ˆ';
        }

        // BURÃ‡ YORUMU
        function getHoroscope(burc) {
            const yorumlar = {
                'KoÃ§': 'BugÃ¼n enerjin zirvede! Yeni projelere baÅŸlamak iÃ§in mÃ¼kemmel bir gÃ¼n.',
                'BoÄŸa': 'Maddi konularda ÅŸanslÄ±sÄ±n. SabÄ±rlÄ± davran, kararlarÄ±nÄ± iyi dÃ¼ÅŸÃ¼n.',
                'Ä°kizler': 'Ä°letiÅŸim gÃ¼cÃ¼n Ã§ok yÃ¼ksek! Sosyal aktivitelere katÄ±l.',
                'YengeÃ§': 'Duygusal bir gÃ¼ndesin. Ailenle zaman geÃ§irmek iyi gelecek.',
                'Aslan': 'YaratÄ±cÄ±lÄ±ÄŸÄ±n zirvede! Kendini ifade etmekten Ã§ekinme.',
                'BaÅŸak': 'Detaylara odaklan, organizasyon yap. VerimliliÄŸin artacak.',
                'Terazi': 'Ä°liÅŸkilerde denge Ã¶nemli. Adil ol, uzlaÅŸmacÄ± yaklaÅŸ.',
                'Akrep': 'Sezgilerin Ã§ok gÃ¼Ã§lÃ¼! Gizemli konulara eÄŸil.',
                'Yay': 'Ã–zgÃ¼rlÃ¼k arayÄ±ÅŸÄ±ndasÄ±n! Yeni maceralar seni bekliyor.',
                'OÄŸlak': 'Kariyer odaklÄ± bir gÃ¼n. Hedeflerine odaklan.',
                'Kova': 'YenilikÃ§i fikirlerle dolu! Sosyal projelerde Ã¶ncÃ¼ ol.',
                'BalÄ±k': 'Hayal gÃ¼cÃ¼n zirvede! Sanatla ilgilen.'
            };
            
            alert(`â™ˆ ${burc} Burcu GÃ¼nlÃ¼k Yorumu:\n\n${yorumlar[burc]}\n\nğŸ’ 10 Elmas kazandÄ±nÄ±z!`);
            
            // XP ve para kazan
            const user = JSON.parse(localStorage.getItem('banabeyderler_user'));
            user.diamonds += 10;
            localStorage.setItem('banabeyderler_user', JSON.stringify(user));
        }

        // AI SORU
        function aiSoruSor() {
            const soru = document.getElementById('aiSoru').value;
            if (!soru) return;
            
            const cevaplar = [
                "BurÃ§ yorumlarÄ± hakkÄ±nda daha fazla bilgi verebilirim!",
                "Hangi burÃ§la ilgili merak ettikleriniz var?",
                "Abdullah SarÄ± tarafÄ±ndan geliÅŸtirildim! ğŸš€",
                "GÃ¼nlÃ¼k burÃ§ yorumlarÄ±nÄ±z iÃ§in yukarÄ±daki burÃ§lara tÄ±klayÄ±n!",
                "BurÃ§ Ã¶zelliklerini merak ediyorsanÄ±z, size detaylÄ± bilgi verebilirim!"
            ];
            
            const cevap = cevaplar[Math.floor(Math.random() * cevaplar.length)];
            document.getElementById('aiCevap').innerHTML = `<strong>AI Asistan:</strong> ${cevap}`;
            document.getElementById('aiSoru').value = '';
            
            // XP kazan
            const user = JSON.parse(localStorage.getItem('banabeyderler_user'));
            user.diamonds += 5;
            localStorage.setItem('banabeyderler_user', JSON.stringify(user));
        }

        // PROFÄ°L GÃ–STER
        function showUserProfile(user) {
            alert(`
ğŸ¤ Profil Bilgileri:

Ä°sim: ${user.name}
E-posta: ${user.email}
Seviye: ${user.level}
Elmas: ğŸ’ ${user.diamonds}
YÄ±ldÄ±z: â­ ${user.stars}
AltÄ±n: ğŸª™ ${user.gold}

${user.isGoogle ? 'ğŸ” Google GiriÅŸi' : 'ğŸš€ Demo Modu'}
GiriÅŸ Tarihi: ${new Date(user.loginTime).toLocaleString()}
            `);
        }

        // Ã‡IKIÅ
        function logout() {
            localStorage.removeItem('banabeyderler_user');
            alert('Ã‡Ä±kÄ±ÅŸ yapÄ±ldÄ±. Tekrar gÃ¶rÃ¼ÅŸmek Ã¼zere! ğŸ‘‹');
            location.reload();
        }

        // ESC tuÅŸu ile modal kapatma
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideLoginModal();
            }
        });
    </script>
</body>
</html>